# Ответы на вопросы по Kubernetes

## Содержание
- [Что такое мини куб?](#что-такое-мини-куб)
- [Что он собой представляет?](#что-он-собой-представляет)
- [Почему он может заменить докер?](#почему-он-может-заменить-докер)
- [В каких задачах он может пригодиться?](#в-каких-задачах-он-может-пригодиться)

## Что такое мини куб?
Minikube — это инструмент, который позволяет запустить Kubernetes локально на вашем компьютере. Это как уменьшенная версия настоящего Kubernetes кластера, но для разработки и обучения.

## Что он собой представляет?
Minikube представляет собой виртуальную машину с уже настроенным Kubernetes внутри. Запускается одной командой и создаёт готовую среду для работы с контейнерами. По сути, это виртуальная машина с предустановленным и настроенным Kubernetes.

## Почему он может заменить докер?
Minikube не столько заменяет Docker, сколько работает вместе с ним, но на более высоком уровне:
- Docker управляет отдельными контейнерами
- Minikube управляет группами контейнеров, их масштабированием и отказоустойчивостью

Minikube может быть более удобным для сложных проектов, где нужно управлять множеством взаимосвязанных контейнеров.

## В каких задачах он может пригодиться?
- Разработка и тестирование приложений для Kubernetes
- Обучение работе с Kubernetes без необходимости настраивать полноценный кластер
- Локальное тестирование микросервисной архитектуры
- Проверка конфигураций перед развертыванием в реальную среду
- Разработка, когда нужно имитировать работу с кластером, но без доступа к облаку

## Примеры команд для работы с Minikube

### Установка и запуск
```bash
# Установка Minikube на Linux
curl -LO https://storage.googleapis.com/minikube/releases/latest/minikube-linux-amd64
sudo install minikube-linux-amd64 /usr/local/bin/minikube

# Запуск кластера — создает новый кластер Kubernetes на вашем компьютере
minikube start

# Запуск с указанием ресурсов — полезно, если нужно больше мощности для тяжелых приложений
minikube start --cpus 4 --memory 8192
```

### Базовые команды
```bash
# Проверка статуса — удобно узнать, запущен ли кластер и в каком состоянии
minikube status

# Остановка кластера — экономит ресурсы, когда кластер не используется
minikube stop

# Удаление кластера — полная очистка, если нужно начать с нуля
minikube delete

# Открыть дашборд Kubernetes в браузере — визуальный интерфейс для управления кластером
minikube dashboard
```

### Работа с приложениями
```bash
# Запуск приложения (деплоймент) — разворачивает приложение в кластере
kubectl create deployment hello-node --image=k8s.gcr.io/echoserver:1.4

# Посмотреть деплойменты — проверка статуса развернутых приложений
kubectl get deployments

# Создать сервис — делает приложение доступным для обращения к нему
kubectl expose deployment hello-node --type=LoadBalancer --port=8080

# Открыть доступ к сервису — открывает браузер с доступом к приложению
minikube service hello-node
```

### Работа с подами (pods)
Под (pod) — это группа из одного или нескольких контейнеров с общими ресурсами. Это базовая единица развертывания в Kubernetes.

```bash
# Посмотреть список подов — полезно чтобы увидеть, какие поды запущены и в каком состоянии
kubectl get pods

# Посмотреть поды со всей подробной информацией — статус, IP, используемые узлы
kubectl get pods -o wide

# Подробная информация о поде — отладка проблем, проверка событий, просмотр состояния
kubectl describe pod имя-пода

# Создать под из YAML-файла — это основной способ создания сложных подов с нужными настройками
kubectl apply -f pod.yaml

# Удалить под — когда нужно перезапустить или убрать ненужный под
kubectl delete pod имя-пода

# Получить логи пода — отладка проблем, проверка работы приложения
kubectl logs имя-пода

# Посмотреть логи в режиме реального времени — мониторинг работающего приложения
kubectl logs -f имя-пода
```

### Работа с контейнерами в подах
Контейнеры — это изолированные среды выполнения внутри подов, где запускаются ваши приложения.

```bash
# Выполнить команду в контейнере пода — проверка файлов, настроек или выполнение одноразовых скриптов
kubectl exec имя-пода -- ls /app

# Запустить интерактивный терминал в контейнере — ручная отладка, изучение проблем изнутри
kubectl exec -it имя-пода -- bash

# Если в поде несколько контейнеров, указываем нужный — работа с конкретным контейнером в многоконтейнерном поде
kubectl exec -it имя-пода -c имя-контейнера -- bash

# Копировать файл в контейнер — загрузка конфигураций или скриптов внутрь контейнера
kubectl cp файл.txt имя-пода:/путь/в/контейнере

# Копировать файл из контейнера — извлечение логов, результатов или отчетов из контейнера
kubectl cp имя-пода:/путь/в/контейнере/файл.txt локальный-путь
```

### Дополнительные функции
```bash
# Включение дополнительных возможностей (аддонов) — расширяет функциональность кластера
minikube addons list                # показывает доступные дополнения
minikube addons enable ingress      # включает Ingress для маршрутизации трафика

# Доступ к логам — помогает в отладке проблем с самим Minikube
minikube logs

# SSH в виртуальную машину Minikube — низкоуровневый доступ для продвинутой отладки
minikube ssh
```
